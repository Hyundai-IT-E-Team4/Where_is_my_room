<?xml version="1.0" encoding="UTF-8"?>
<<<<<<< HEAD
<<<<<<< HEAD
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.org.team4.dao.BoardDAO">
<insert id="insertBoard" parameterType="BoardinsertDTO">
	insert into 
board(title,content, writer_id, latitude, longitude, room_type, contract_type, rental_fee, address, write_date, deleted)
values 
    (#{title},
    #{content},
    #{writer_id},
    #{latitude},
    #{longitude},
	#{room_type},
	#{contract_type},
	#{rental_fee},
	#{address},
	sysdate,
	0) 
	</insert>
	
	<select id="getMapList" resultType="MapDTO">
	select title, latitude, longitude, address
	from board
	</select>
	
	<select id="getMapListWithLoction" resultType="MapDTO" parameterType="LocationDTO">
	<![CDATA[
	select * from 
(select dummy1.*, rownum seq from 
(select 
latitude, 
longitude,
board.id boardId,
board.title title,
board.room_type roomType,
board.contract_type contractType,
board.rental_fee rentalFee
from
board
where 
board.deleted = 0 and 
board.latitude between #{swLat} and #{neLat}
and
board.longitude between #{swLng} and #{neLng}
order by board.id desc) dummy1) dummy2 where seq <= 10
]]>
	</select>
	

</mapper> 
=======
>>>>>>> b3fa3e6efb5a5a261683c14e16911282e4252a99
=======
>>>>>>> b3fa3e6efb5a5a261683c14e16911282e4252a99
